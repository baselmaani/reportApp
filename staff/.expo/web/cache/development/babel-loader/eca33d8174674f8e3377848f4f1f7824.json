{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useRef, useState } from 'react';\nimport { Camera } from 'expo-camera';\nimport { useEffect } from 'react';\nimport { IconButton } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CameraView = function CameraView(_ref) {\n  var _ref$onTake = _ref.onTake,\n      onTake = _ref$onTake === void 0 ? function () {} : _ref$onTake,\n      onClose = _ref.onClose;\n  var camera = useRef(null);\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestCameraPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context.sent;\n              status = _await$Camera$request.status;\n\n              if (status === 'granted') {} else {\n                Alert.alert('Access denied');\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var onTakePhoto = function _callee2() {\n    var options, data, source;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            options = {\n              quality: 0.7,\n              base64: true\n            };\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(camera.current.takePictureAsync(options));\n\n          case 3:\n            data = _context2.sent;\n            source = data.base64;\n            console.log('source');\n            console.log(source);\n\n            if (!source) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 10;\n            return _regeneratorRuntime.awrap(camera.current.pausePreview());\n\n          case 10:\n            onTake(source);\n            onClose();\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(Camera, {\n      ref: camera,\n      style: styles.camera,\n      children: [_jsx(View, {\n        style: styles.xContainer,\n        children: _jsx(IconButton, {\n          icon: \"close\",\n          color: '#f0f0f0',\n          size: 40,\n          onPress: onClose\n        })\n      }), _jsx(View, {\n        style: styles.buttonContainer,\n        children: _jsx(IconButton, {\n          icon: \"camera\",\n          color: 'red',\n          size: 40,\n          onPress: onTakePhoto\n        })\n      })]\n    })\n  });\n};\n\nexport default CameraView;\nvar styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%'\n  },\n  camera: {\n    flex: 1\n  },\n  xContainer: {\n    top: 0,\n    position: 'absolute',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'flex-end'\n  },\n  buttonContainer: {\n    bottom: 0,\n    position: 'absolute',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/almaani/Documents/GitHub/reportsApp/staff/src/shared/camera/CameraView.js"],"names":["React","useRef","useState","Camera","useEffect","IconButton","CameraView","onTake","onClose","camera","requestCameraPermissionsAsync","status","Alert","alert","onTakePhoto","options","quality","base64","current","takePictureAsync","data","source","console","log","pausePreview","styles","container","xContainer","buttonContainer","StyleSheet","create","position","width","height","flex","top","justifyContent","alignItems","bottom"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View } from 'react-native';\nimport React, { useRef, useState } from 'react';\nimport { Camera } from 'expo-camera';\nimport { useEffect } from 'react';\nimport { IconButton } from 'react-native-paper';\n\nconst CameraView = ({ onTake = () => {}, onClose }) => {\n  const camera = useRef(null);\n\n  useEffect(() => {\n    (async () => {\n      const { status } = await Camera.requestCameraPermissionsAsync();\n      if (status === 'granted') {\n        // start the camera\n        //   setStartCamera(true);\n      } else {\n        Alert.alert('Access denied');\n      }\n    })();\n  }, []);\n\n  const onTakePhoto = async () => {\n    const options = { quality: 0.7, base64: true };\n    const data = await camera.current.takePictureAsync(options);\n    const source = data.base64;\n    console.log('source');\n    console.log(source);\n    if (source) {\n      await camera.current.pausePreview();\n      onTake(source);\n      onClose();\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Camera ref={camera} style={styles.camera}>\n        <View style={styles.xContainer}>\n          <IconButton\n            icon='close'\n            color={'#f0f0f0'}\n            size={40}\n            onPress={onClose}\n          />\n        </View>\n        <View style={styles.buttonContainer}>\n          <IconButton\n            icon='camera'\n            color={'red'}\n            size={40}\n            onPress={onTakePhoto}\n          />\n        </View>\n      </Camera>\n    </View>\n  );\n};\n\nexport default CameraView;\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n  },\n  camera: {\n    flex: 1,\n  },\n  xContainer: {\n    top: 0,\n    position: 'absolute',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n  },\n  buttonContainer: {\n    bottom: 0,\n    position: 'absolute',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}