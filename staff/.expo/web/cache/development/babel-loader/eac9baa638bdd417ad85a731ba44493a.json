{"ast":null,"code":"import StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport React, { useState } from 'react';\nimport { Button, Card, IconButton, Portal, Provider } from 'react-native-paper';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport openMap from 'react-native-open-maps';\nimport { useParticipateEvent } from \"../../hooks/useParticipateEvent\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar EventItem = function EventItem(_ref) {\n  var _event$organization, _event$organization2;\n\n  var event = _ref.event;\n  var participateMutation = useParticipateEvent();\n  var feedDate = formatDistanceToNow(new Date(event == null ? void 0 : event.createdAt));\n  var startsIn = formatDistanceToNow(new Date(event == null ? void 0 : event.startAt));\n\n  var onParticipate = function onParticipate() {\n    participateMutation.mutate({\n      eventId: event.id\n    });\n  };\n\n  return _jsxs(Card, {\n    style: styles.cardStyle,\n    children: [_jsx(View, {\n      style: styles.dateContainer,\n      children: _jsx(Text, {\n        style: styles.dateText,\n        children: feedDate\n      })\n    }), _jsxs(View, {\n      style: styles.orgContainer,\n      children: [_jsx(Image, {\n        source: {\n          uri: event == null ? void 0 : (_event$organization = event.organization) == null ? void 0 : _event$organization.logo\n        },\n        style: styles.logoStyle\n      }), _jsx(Text, {\n        style: styles.orgName,\n        children: event == null ? void 0 : (_event$organization2 = event.organization) == null ? void 0 : _event$organization2.name\n      })]\n    }), _jsx(Text, {\n      style: styles.title,\n      children: event == null ? void 0 : event.title\n    }), _jsx(Text, {\n      style: styles.description,\n      children: event == null ? void 0 : event.content\n    }), _jsxs(View, {\n      style: styles.optionalsContainer,\n      children: [event.address && _jsxs(View, {\n        style: styles.optionItem,\n        children: [_jsx(IconButton, {\n          icon: \"map-marker\",\n          onPress: function onPress() {\n            openMap({\n              latitude: parseFloat(event == null ? void 0 : event.latitude),\n              longitude: parseFloat(event == null ? void 0 : event.longitude),\n              end: (event == null ? void 0 : event.latitude) + \",\" + (event == null ? void 0 : event.longitude),\n              navigate_mode: 'navigate',\n              provider: 'google'\n            });\n          },\n          color: \"#03A9F4\"\n        }), _jsx(Text, {\n          style: styles.optionLabel,\n          children: \"address\"\n        }), _jsx(Text, {\n          style: styles.optionValue,\n          children: event == null ? void 0 : event.address\n        })]\n      }), event.startAt && _jsxs(View, {\n        style: styles.optionItem,\n        children: [_jsx(IconButton, {\n          icon: \"calendar-clock\",\n          color: \"#03A9F4\"\n        }), _jsx(Text, {\n          style: styles.eventStartText,\n          children: \"B\\xF6rjar i \" + startsIn\n        })]\n      }), event.isUnlimited === false && _jsxs(View, {\n        style: styles.optionItem,\n        children: [_jsx(IconButton, {\n          icon: \"seat\",\n          color: \"#03A9F4\"\n        }), _jsx(Text, {\n          style: styles.eventStartText,\n          children: event.availableSeats - (event == null ? void 0 : event._count.participants) + \" platser kvar\"\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.imagesContainer,\n      children: _jsx(FlatList, {\n        data: event == null ? void 0 : event.images,\n        keyExtractor: function keyExtractor(_ref2) {\n          var item = _ref2.item;\n          return item;\n        },\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        renderItem: function renderItem(_ref3) {\n          var item = _ref3.item;\n          return _jsx(Image, {\n            source: {\n              uri: item\n            },\n            style: styles.imageItem\n          });\n        }\n      })\n    }), _jsx(View, {\n      children: _jsx(Button, {\n        color: event.participants.length > 0 ? '#FF5722' : '#03A9F4',\n        onPress: onParticipate,\n        children: event.participants.length > 0 ? 'avbryta deltagande' : 'Delta nu'\n      })\n    })]\n  });\n};\n\nexport default EventItem;\nvar styles = StyleSheet.create({\n  imageItem: {\n    width: 300,\n    height: 200,\n    margin: 10\n  },\n  cardStyle: {\n    margin: 10,\n    padding: 20\n  },\n  orgContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10\n  },\n  logoStyle: {\n    width: 50,\n    height: 50,\n    borderRadius: 50,\n    marginRight: 10\n  },\n  title: {\n    fontSize: 20,\n    marginBottom: 10\n  },\n  description: {\n    color: '#3c3c3c70'\n  },\n  imagesContainer: {\n    marginTop: 20,\n    marginBottom: 20\n  },\n  dateContainer: {\n    position: 'absolute',\n    top: -5,\n    right: -5\n  },\n  dateText: {\n    fontSize: 10,\n    color: '#3c3c3c50'\n  },\n  commentsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  commentFormContainer: {\n    flex: 1\n  },\n  optionItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  optionLabel: {\n    color: '#3c3c3c50',\n    marginRight: 2\n  },\n  optionValue: {\n    color: '#3c3c3c50'\n  },\n  eventStartText: {\n    color: '#3c3c3c50',\n    fontSize: 10\n  }\n});","map":{"version":3,"sources":["/Users/almaani/Documents/GitHub/reportsApp/staff/src/pages/events/EventItem.js"],"names":["React","useState","Button","Card","IconButton","Portal","Provider","format","formatDistanceToNow","openMap","useParticipateEvent","EventItem","event","participateMutation","feedDate","Date","createdAt","startsIn","startAt","onParticipate","mutate","eventId","id","styles","cardStyle","dateContainer","dateText","orgContainer","uri","organization","logo","logoStyle","orgName","name","title","description","content","optionalsContainer","address","optionItem","latitude","parseFloat","longitude","end","navigate_mode","provider","optionLabel","optionValue","eventStartText","isUnlimited","availableSeats","_count","participants","imagesContainer","images","item","imageItem","length","StyleSheet","create","width","height","margin","padding","flexDirection","alignItems","marginBottom","borderRadius","marginRight","fontSize","color","marginTop","position","top","right","commentsContainer","commentFormContainer","flex"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View, Image, FlatList } from 'react-native';\nimport React, { useState } from 'react';\nimport { Button, Card, IconButton, Portal, Provider } from 'react-native-paper';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport openMap from 'react-native-open-maps';\nimport { useParticipateEvent } from '../../hooks/useParticipateEvent';\n\nconst EventItem = ({ event }) => {\n  const participateMutation = useParticipateEvent();\n\n  const feedDate = formatDistanceToNow(new Date(event?.createdAt));\n  const startsIn = formatDistanceToNow(new Date(event?.startAt));\n\n  const onParticipate = () => {\n    participateMutation.mutate({\n      eventId: event.id,\n    });\n  };\n  return (\n    <Card style={styles.cardStyle}>\n      <View style={styles.dateContainer}>\n        <Text style={styles.dateText}>{feedDate}</Text>\n      </View>\n      <View style={styles.orgContainer}>\n        <Image\n          source={{ uri: event?.organization?.logo }}\n          style={styles.logoStyle}\n        />\n        <Text style={styles.orgName}>{event?.organization?.name}</Text>\n      </View>\n      <Text style={styles.title}>{event?.title}</Text>\n      <Text style={styles.description}>{event?.content}</Text>\n      <View style={styles.optionalsContainer}>\n        {event.address && (\n          <View style={styles.optionItem}>\n            <IconButton\n              icon='map-marker'\n              onPress={() => {\n                openMap({\n                  latitude: parseFloat(event?.latitude),\n                  longitude: parseFloat(event?.longitude),\n                  end: `${event?.latitude},${event?.longitude}`,\n                  navigate_mode: 'navigate',\n                  provider: 'google',\n                });\n              }}\n              color='#03A9F4'\n            />\n            <Text style={styles.optionLabel}>address</Text>\n            <Text style={styles.optionValue}>{event?.address}</Text>\n          </View>\n        )}\n\n        {event.startAt && (\n          <View style={styles.optionItem}>\n            <IconButton icon='calendar-clock' color='#03A9F4' />\n            <Text style={styles.eventStartText}>{`Börjar i ${startsIn}`}</Text>\n          </View>\n        )}\n        {event.isUnlimited === false && (\n          <View style={styles.optionItem}>\n            <IconButton icon='seat' color='#03A9F4' />\n            <Text style={styles.eventStartText}>\n              {`${\n                event.availableSeats - event?._count.participants\n              } platser kvar`}\n            </Text>\n          </View>\n        )}\n      </View>\n\n      <View style={styles.imagesContainer}>\n        <FlatList\n          data={event?.images}\n          keyExtractor={({ item }) => item}\n          horizontal={true}\n          showsHorizontalScrollIndicator={false}\n          renderItem={({ item }) => (\n            <Image source={{ uri: item }} style={styles.imageItem} />\n          )}\n        />\n      </View>\n      <View>\n        <Button\n          color={event.participants.length > 0 ? '#FF5722' : '#03A9F4'}\n          onPress={onParticipate}\n        >\n          {event.participants.length > 0 ? 'avbryta deltagande' : 'Delta nu'}\n        </Button>\n      </View>\n    </Card>\n  );\n};\n\nexport default EventItem;\n\nconst styles = StyleSheet.create({\n  imageItem: {\n    width: 300,\n    height: 200,\n    margin: 10,\n  },\n  cardStyle: {\n    margin: 10,\n    padding: 20,\n  },\n  orgContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  logoStyle: {\n    width: 50,\n    height: 50,\n    borderRadius: 50,\n    marginRight: 10,\n  },\n  title: {\n    fontSize: 20,\n    marginBottom: 10,\n  },\n  description: {\n    color: '#3c3c3c70',\n  },\n  imagesContainer: {\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  dateContainer: {\n    position: 'absolute',\n    top: -5,\n    right: -5,\n  },\n  dateText: {\n    fontSize: 10,\n    color: '#3c3c3c50',\n  },\n  commentsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  commentFormContainer: {\n    flex: 1,\n  },\n\n  optionItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  optionLabel: {\n    color: '#3c3c3c50',\n    marginRight: 2,\n  },\n  optionValue: {\n    color: '#3c3c3c50',\n  },\n  eventStartText: {\n    color: '#3c3c3c50',\n    fontSize: 10,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}